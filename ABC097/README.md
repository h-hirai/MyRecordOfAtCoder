# AtCoder Beginner Contest 097

2018-05-12参加。

この回は4問ともRustでも書いてみている。

[提出一覧](https://atcoder.jp/contests/abc097/submissions?f.User=hhirai)

A は省略。

## B. Exponential

[問題ページ](https://atcoder.jp/contests/abc097/tasks/abc097_b)

与えられる正整数X以下で最大のべき乗数を求める。

i∈2,3,...√X となるすべてのiについて、j∈i^2,i^3,...(j≦X)となるすべてのjを求め、その中の最大値を答えとする。

回答ではiをXまで回してしまったがそれでも別に特にTLEなったりはしない。

「べき乗数」を勝手に「自乗数」と読み間違えてWA出してしまった。問題をよく読むべき。

## C. K-th Substring

[問題ページ](https://atcoder.jp/contests/abc097/tasks/arc097_a)

与えられた文字列sのsubstringを辞書順に並べたときにK番目にくるものはなにになるか。ただし、重複分は数えないものとする。

まず部分文字列の辞書を作成する。ここでKが問題の制限で5以下なので、6文字以上の長さの部分文字列は考慮しなくていい。C++ の std::set<std::string> を range-based for で順にアクセスすればそのまま辞書順に出てくるので、そのままK番目の要素を答えとすればよい。Rust の BTreeSet も同様。

部分文字列の作り方はC++でリングバッファを使う方法、Rustでインデックスでふつうにループする方法を実装したが、あとから作っただけあってRustのほうがスマート。

## D. Equals

[問題ページ](https://atcoder.jp/contests/abc097/tasks/arc097_b)

1からNまでの数を並べ替えた順列pと、入れ替えてもよいインデックスの組が複数与えられる。順列に対し入れ替え操作を繰り返し、なるべく昇順になるよう並べ替える。順列中、位置と数値が一致する数を最大でいくつにできるか。

UnionFindTreeを使って解く問題。与えられる組によって、インデックスをグループ化できる。同じグループにあるインデックス上の数は、入れ替えによってそのグループのインデックスの位置上に自由に移動できる。グループにないインデックスには移動できない。順列のi番目にある数P[i]であるとき、iとP[i]が同じグループであれば、P[i]はiの位置からP[i]の位置に移動できる。そのようなiとP[i]の組み合わせの数が答えになる。
